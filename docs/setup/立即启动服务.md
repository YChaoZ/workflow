# 🚀 立即启动服务 - 完整步骤

## ✅ 当前状态

- ✅ MyBatis-Plus 配置已修复
- ✅ @MapperScan 注解已添加
- ✅ 项目编译成功（63MB）

---

## 📋 接下来只需两步

### 步骤1：重置数据库（必须执行）⭐⭐⭐

**打开终端，执行以下命令：**

```bash
mysql -u root -p < /Users/yanchao/IdeaProjects/workFolw/backend/重置数据库.sql
```

输入MySQL密码后，数据库会完全重置。

**或者手动执行SQL：**
```bash
mysql -u root -p
```
```sql
DROP DATABASE IF EXISTS workflow;
CREATE DATABASE workflow CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
EXIT;
```

---

### 步骤2：启动服务 🚀

```bash
cd /Users/yanchao/IdeaProjects/workFolw/backend
java -jar target/workflow-system-1.0.0-SNAPSHOT.jar --spring.profiles.active=dev
```

---

## 🎉 预期成功输出

启动日志中会看到：

```
✅ Flyway 迁移成功
Successfully applied 4 migrations to schema `workflow`
  - V1: init tables
  - V2: init data
  - V3: mvp2 tables
  - V4: mvp2 init data

✅ Mapper 扫描成功
Creating MapperFactoryBean with name 'processCategoryMapper'
Creating MapperFactoryBean with name 'taskAttachmentMapper'
Creating MapperFactoryBean with name 'taskCommentMapper'

✅ 应用启动成功
Started WorkFlowApplication in X.XXX seconds

============================================
工作流系统启动成功！
Workflow System Started Successfully!
============================================
访问地址: http://localhost:9099
接口文档: http://localhost:9099/doc.html
Druid监控: http://localhost:9099/druid/
============================================
```

---

## 🧪 测试服务

### 1. 登录测试
```bash
curl -X POST http://localhost:9099/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123"}'
```

### 2. 访问接口文档
浏览器打开：http://localhost:9099/doc.html

### 3. 查看流程分类
登录后访问：http://localhost:9099/api/process-categories

---

## ❓ 如果遇到问题

### 问题1：数据库连接失败
**检查：** MySQL是否运行
```bash
mysql -u root -p -e "SELECT VERSION();"
```

### 问题2：端口9099被占用
**解决：** 修改端口或停止占用进程
```bash
lsof -i :9099
kill -9 <PID>
```

### 问题3：Flyway迁移失败
**解决：** 确保已执行步骤1重置数据库

---

## 📝 初始数据

数据库重置后会自动创建：

**管理员账号：**
- 用户名：`admin`
- 密码：`admin123`

**流程分类：**
- 行政管理（请假、出差、用印）
- 人事管理（入职、离职、转正）
- 财务管理（报销、付款、借款）
- 采购管理
- 项目管理

---

## 🎯 下一步

服务启动成功后：
1. ✅ 测试基础功能（登录、流程分类）
2. 🔄 继续MVP3开发（组织架构管理）

---

**更新时间：** 2025-11-06 10:50  
**状态：** 配置已修复，编译已完成，等待数据库重置并启动

