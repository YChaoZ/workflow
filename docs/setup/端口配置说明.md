# ğŸŒ ç«¯å£é…ç½®è¯´æ˜

## å½“å‰é…ç½®

### åç«¯æœåŠ¡ç«¯å£
- **ç«¯å£**ï¼š`9099`
- **è®¿é—®åœ°å€**ï¼šhttp://localhost:9099

### Druid ç›‘æ§é¡µé¢
- **åœ°å€**ï¼šhttp://localhost:9099/druid/
- **ç”¨æˆ·å**ï¼š`admin`
- **å¯†ç **ï¼š`admin`

### å‰ç«¯æœåŠ¡ç«¯å£ï¼ˆå¾…å¯åŠ¨ï¼‰
- **ç«¯å£**ï¼š`3000`ï¼ˆVite é»˜è®¤ï¼‰
- **è®¿é—®åœ°å€**ï¼šhttp://localhost:3000

---

## ğŸ“ å·²ä¿®æ”¹çš„é…ç½®æ–‡ä»¶

### 1. application.ymlï¼ˆä¸»é…ç½®ï¼‰
```yaml
server:
  port: 9099  âœ… å·²ä¿®æ”¹
```

### 2. application-dev.ymlï¼ˆå¼€å‘ç¯å¢ƒï¼‰
```yaml
server:
  port: 9099  âœ… å·²ä¿®æ”¹
```

### 3. application-prod.ymlï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
```yaml
server:
  port: 9099  âœ… å·²ä¿®æ”¹
```

---

## ğŸš€ å¯åŠ¨åº”ç”¨

### æ–¹å¼ä¸€ï¼šä½¿ç”¨ Maven
```bash
cd /Users/yanchao/IdeaProjects/workFolw/backend
mvn spring-boot:run
```

### æ–¹å¼äºŒï¼šä½¿ç”¨ IDEA
```
å³é”® WorkFlowApplication.java â†’ Run 'WorkFlowApplication'
```

### å¯åŠ¨æˆåŠŸåè®¿é—®
- åº”ç”¨é¦–é¡µï¼šhttp://localhost:9099
- Druid ç›‘æ§ï¼šhttp://localhost:9099/druid/
- å¥åº·æ£€æŸ¥ï¼šhttp://localhost:9099/actuator/health

---

## ğŸ”§ å‰ç«¯é…ç½®

å‰ç«¯éœ€è¦é…ç½®åç«¯ API åœ°å€ä¸º `http://localhost:9099`

**ä¿®æ”¹æ–‡ä»¶**ï¼š`frontend/src/api/request.ts`

```typescript
const request = axios.create({
  baseURL: 'http://localhost:9099',  // åç«¯åœ°å€
  timeout: 5000
});
```

æˆ–è€…ä½¿ç”¨ Vite ä»£ç†ï¼ˆæ¨èï¼‰ï¼š

**ä¿®æ”¹æ–‡ä»¶**ï¼š`frontend/vite.config.ts`

```typescript
export default defineConfig({
  server: {
    port: 3000,
    proxy: {
      '/api': {
        target: 'http://localhost:9099',  // åç«¯åœ°å€
        changeOrigin: true
      }
    }
  }
})
```

---

## ğŸ“Š ç«¯å£å ç”¨æ£€æŸ¥

### æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
```bash
# macOS / Linux
lsof -i:9099

# å¦‚æœè¢«å ç”¨ï¼ŒæŸ¥çœ‹è¿›ç¨‹
lsof -ti:9099
```

### æ€æ‰å ç”¨ç«¯å£çš„è¿›ç¨‹
```bash
# æ€æ‰å ç”¨ 9099 ç«¯å£çš„è¿›ç¨‹
kill -9 $(lsof -ti:9099)
```

### éªŒè¯ç«¯å£å¯ç”¨
```bash
# å¯åŠ¨åº”ç”¨åéªŒè¯
curl http://localhost:9099/actuator/health
```

---

## âš ï¸ é˜²ç«å¢™é…ç½®ï¼ˆå¦‚æœéœ€è¦ï¼‰

### macOS é˜²ç«å¢™
```bash
# å…è®¸ Java ç¨‹åºè®¿é—®ç½‘ç»œ
sudo /usr/libexec/ApplicationFirewall/socketfilterfw --add /usr/bin/java
```

### ç”Ÿäº§ç¯å¢ƒé˜²ç«å¢™
```bash
# å¼€æ”¾ 9099 ç«¯å£
sudo firewall-cmd --permanent --add-port=9099/tcp
sudo firewall-cmd --reload
```

---

## ğŸŒ å¤–ç½‘è®¿é—®é…ç½®ï¼ˆå¦‚æœéœ€è¦ï¼‰

å¦‚æœéœ€è¦ä»å¤–ç½‘è®¿é—®ï¼š

### 1. ä¿®æ”¹ç»‘å®šåœ°å€
```yaml
server:
  port: 9099
  address: 0.0.0.0  # å…è®¸å¤–ç½‘è®¿é—®
```

### 2. é…ç½® CORSï¼ˆå·²é…ç½®ï¼‰
```java
// CorsConfig.java å·²ç»é…ç½®äº†å…è®¸è·¨åŸŸ
```

### 3. é…ç½®åå‘ä»£ç†ï¼ˆå¯é€‰ï¼‰

**Nginx é…ç½®ç¤ºä¾‹**ï¼š
```nginx
server {
    listen 80;
    server_name workflow.example.com;
    
    location / {
        proxy_pass http://localhost:9099;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

---

## ğŸ“± ç§»åŠ¨ç«¯è®¿é—®

å¦‚æœéœ€è¦åœ¨åŒä¸€å±€åŸŸç½‘å†…çš„æ‰‹æœºè®¿é—®ï¼š

1. **æŸ¥çœ‹æœ¬æœº IP**
   ```bash
   # macOS
   ifconfig | grep "inet "
   
   # è¾“å‡ºç¤ºä¾‹ï¼š192.168.1.100
   ```

2. **ä½¿ç”¨å±€åŸŸç½‘ IP è®¿é—®**
   ```
   http://192.168.1.100:9099
   ```

3. **å‰ç«¯é…ç½®**
   ```typescript
   // ä¿®æ”¹ä¸ºå±€åŸŸç½‘ IP
   baseURL: 'http://192.168.1.100:9099'
   ```

---

## ğŸ”„ ç«¯å£ä¿®æ”¹å†å²

| æ—¥æœŸ | æ—§ç«¯å£ | æ–°ç«¯å£ | åŸå›  |
|------|--------|--------|------|
| 2025-11-05 | 8080 | 9099 | 8080 ç«¯å£è¢«å ç”¨ |

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [QUICK_START.md](QUICK_START.md) - å¿«é€Ÿå¯åŠ¨æŒ‡å—
- [æ•°æ®åº“é…ç½®è¯´æ˜.md](æ•°æ®åº“é…ç½®è¯´æ˜.md) - æ•°æ®åº“é…ç½®
- [README.md](README.md) - é¡¹ç›®è¯´æ˜

---

## âœ… éªŒè¯æ¸…å•

- [x] application.yml ç«¯å£å·²ä¿®æ”¹ä¸º 9099
- [x] application-dev.yml ç«¯å£å·²ä¿®æ”¹ä¸º 9099
- [x] application-prod.yml ç«¯å£å·²ä¿®æ”¹ä¸º 9099
- [ ] é‡æ–°å¯åŠ¨åº”ç”¨
- [ ] è®¿é—® http://localhost:9099 éªŒè¯
- [ ] è®¿é—® http://localhost:9099/druid/ éªŒè¯ Druid ç›‘æ§
- [ ] æ›´æ–°å‰ç«¯é…ç½®ï¼ˆå¦‚æœå‰ç«¯å·²å¯åŠ¨ï¼‰

---

**ğŸ‰ ç«¯å£é…ç½®å®Œæˆï¼ç°åœ¨å¯ä»¥é‡æ–°å¯åŠ¨åº”ç”¨äº†ï¼**

å¯åŠ¨åè®¿é—®ï¼šhttp://localhost:9099

